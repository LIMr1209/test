res_data = [
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "≤36V",
        "indexation": 465.2
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "90-100",
        "indexation": 187.92
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "220v",
        "indexation": 442.86
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "LED",
        "indexation": 399.69
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "其它",
        "indexation": 595.06
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "铝",
        "indexation": 173.26
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "0-3W（含）",
        "indexation": 499.24
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "其它",
        "indexation": 1132.61
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "自然光（3300K-5000K）",
        "indexation": 501.35
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "暖光（3300K以下）",
        "indexation": 397.78
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "3-8W（含）",
        "indexation": 345.85
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "其它",
        "indexation": 451.68
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "其它",
        "indexation": 546.32
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "其它",
        "indexation": 265.86
    },
    {
        "com_attr_name": "价格",
        "com_attr_value_name": "50元以下",
        "indexation": 420.34
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "220V",
        "indexation": 100
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "80-89",
        "indexation": 100
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "其它",
        "indexation": 100
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "其它　",
        "indexation": 100
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "铜",
        "indexation": 100
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "其它",
        "indexation": 100
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "3-8W（含）",
        "indexation": 100
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "读写台灯",
        "indexation": 100
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "暖光（3300K以下）",
        "indexation": 100
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "自然光（3300K-5000K）",
        "indexation": 100
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "1-3W（含）",
        "indexation": 100
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "触摸开关",
        "indexation": 100
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "铜",
        "indexation": 100
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "卧室",
        "indexation": 100
    },
    {
        "com_attr_name": "价格",
        "com_attr_value_name": "100-199",
        "indexation": 100
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "100V-240V（含）",
        "indexation": 42.01
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "60-79",
        "indexation": 46.89
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "110V-220V",
        "indexation": 6.98
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "白炽灯",
        "indexation": 12.58
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "玻璃",
        "indexation": 76.32
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "铁",
        "indexation": 17.47
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "12-20W（含）",
        "indexation": 52.56
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "普通台灯",
        "indexation": 40.37
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "其它",
        "indexation": 59.64
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "三色可调",
        "indexation": 24.3
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "8-12W（含）",
        "indexation": 58.12
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "调光开关",
        "indexation": 35.1
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "玻璃",
        "indexation": 76.92
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "客厅",
        "indexation": 75.49
    },
    {
        "com_attr_name": "价格",
        "com_attr_value_name": "50-99",
        "indexation": 84.75
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "36V-100V（含）",
        "indexation": 10.26
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "0-19",
        "indexation": 4.49
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "90V-260V",
        "indexation": 6.31
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "LED光源",
        "indexation": 6.44
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "ABS",
        "indexation": 62.41
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "树脂",
        "indexation": 13.68
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "8-12W（含）",
        "indexation": 42.57
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "创意台灯",
        "indexation": 22.78
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "三色可调",
        "indexation": 31.39
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "无极调色",
        "indexation": 20.96
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "20-40W（含）",
        "indexation": 41.16
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "按钮开关",
        "indexation": 29.35
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "ABS",
        "indexation": 57.84
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "书房",
        "indexation": 60.2
    },
    {
        "com_attr_name": "价格",
        "com_attr_value_name": "200-299",
        "indexation": 35.59
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "110V",
        "indexation": 0.3
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "40-59",
        "indexation": 0.37
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "12V",
        "indexation": 5.65
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "荧光灯",
        "indexation": 0.31
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "陶瓷",
        "indexation": 52.21
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "不锈钢",
        "indexation": 10.32
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "60W以上",
        "indexation": 7.18
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "卡通台灯",
        "indexation": 13.91
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "无极调色",
        "indexation": 19.28
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "双色可调",
        "indexation": 4.43
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "12-20W（含）",
        "indexation": 35.02
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "智能开关",
        "indexation": 5.77
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "陶瓷",
        "indexation": 50.92
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "宿舍",
        "indexation": 48.58
    },
    {
        "com_attr_name": "价格",
        "com_attr_value_name": "300-499",
        "indexation": 10.17
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "＞240V",
        "indexation": 0.05
    },
    {
        "com_attr_name": "显色指数",
        "com_attr_value_name": "20-39",
        "indexation": 0.06
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "24V",
        "indexation": 0.33
    },
    {
        "com_attr_name": "光源类型",
        "com_attr_value_name": "节能灯",
        "indexation": 0.31
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "布艺",
        "indexation": 27.61
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "木质",
        "indexation": 9.26
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "20-40W（含）",
        "indexation": 2.12
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "化妆镜台灯",
        "indexation": 6.01
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "冷光（5000K以上）",
        "indexation": 15.7
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "冷光（5000K以上）",
        "indexation": 2.26
    },
    {
        "com_attr_name": "功率",
        "com_attr_value_name": "40W以上",
        "indexation": 23.47
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "遥控开关",
        "indexation": 5.13
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "铝",
        "indexation": 47.42
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "办公室",
        "indexation": 31.57
    },
    {
        "com_attr_name": "电压(V)",
        "com_attr_value_name": "220v",
        "indexation": 0.01
    },
    {
        "com_attr_name": "电压",
        "com_attr_value_name": "110V",
        "indexation": 0.33
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "PC/ABS",
        "indexation": 22.63
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "PVC",
        "indexation": 8.63
    },
    {
        "com_attr_name": "功率(W)",
        "com_attr_value_name": "40-60W（含）",
        "indexation": 0.28
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "装饰台灯",
        "indexation": 6
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "五色可调",
        "indexation": 14.8
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "七色可调",
        "indexation": 0.33
    },
    {
        "com_attr_name": "开关类型",
        "com_attr_value_name": "拉线开关",
        "indexation": 0.48
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "布艺",
        "indexation": 35.66
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "儿童房",
        "indexation": 13.51
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "PVC",
        "indexation": 21.6
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "合金",
        "indexation": 5.47
    },
    {
        "com_attr_name": "类别",
        "com_attr_value_name": "单灯",
        "indexation": 0.06
    },
    {
        "com_attr_name": "色温",
        "com_attr_value_name": "双色可调",
        "indexation": 1.79
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "五色可调",
        "indexation": 0.18
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "PC/ABS",
        "indexation": 21.82
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "餐厅",
        "indexation": 0.25
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "树脂",
        "indexation": 19.9
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "金属",
        "indexation": 5.26
    },
    {
        "com_attr_name": "色温(k)",
        "com_attr_value_name": "其它",
        "indexation": 0.04
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "亚克力",
        "indexation": 20.04
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "宝宝房",
        "indexation": 0.16
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "铝",
        "indexation": 17.61
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "水晶",
        "indexation": 2.95
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "树脂",
        "indexation": 18.88
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "医院",
        "indexation": 0.03
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "合金",
        "indexation": 15.33
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "陶瓷",
        "indexation": 2.32
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "PVC",
        "indexation": 15.32
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "酒店",
        "indexation": 0.03
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "铁",
        "indexation": 7.98
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "玻璃",
        "indexation": 1.89
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "合金",
        "indexation": 8.07
    },
    {
        "com_attr_name": "适用场景",
        "com_attr_value_name": "工厂",
        "indexation": 0.01
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "亚克力",
        "indexation": 4.23
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "布艺",
        "indexation": 1.26
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "铁",
        "indexation": 5.77
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "聚丙烯（PP）",
        "indexation": 1.64
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "亚克力",
        "indexation": 1.26
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "聚丙烯（PP）",
        "indexation": 2.55
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "木质",
        "indexation": 1.63
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "聚丙烯（PP）",
        "indexation": 1.05
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "木质",
        "indexation": 0.3
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "不锈钢",
        "indexation": 0.41
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "铜",
        "indexation": 0.63
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "丝线",
        "indexation": 0.26
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "水晶",
        "indexation": 0.25
    },
    {
        "com_attr_name": "材质",
        "com_attr_value_name": "ABS",
        "indexation": 0.63
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "水晶",
        "indexation": 0.19
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "丝线",
        "indexation": 0.25
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "草藤/柳编",
        "indexation": 0.18
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "皮制",
        "indexation": 0.14
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "铜合金",
        "indexation": 0.1
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "铜合金",
        "indexation": 0.14
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "毛皮",
        "indexation": 0.1
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "草藤/柳编",
        "indexation": 0.09
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "不锈钢",
        "indexation": 0.06
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "毛皮",
        "indexation": 0.08
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "纸",
        "indexation": 0.05
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "云石",
        "indexation": 0.07
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "贝壳",
        "indexation": 0.03
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "贝壳",
        "indexation": 0.03
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "皮制",
        "indexation": 0.01
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "纸",
        "indexation": 0.02
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "云石",
        "indexation": 0
    },
    {
        "com_attr_name": "灯身材质",
        "com_attr_value_name": "石膏",
        "indexation": 0.01
    },
    {
        "com_attr_name": "灯罩材质",
        "com_attr_value_name": "石膏",
        "indexation": 0
    }
]

from operator import itemgetter # itemgetter用来去dict中的key，省去了使用lambda函数
from itertools import groupby # itertool
res_data.sort(key=itemgetter('com_attr_name')) # 需要先排序，然后才能使用groupby
lstg = groupby(res_data,key=itemgetter('com_attr_name')) # 分组
# 等同于lstg = groupby(lst,key=lambda x:x['com_attr_name'])
features = [{'name': key, 'value':list(group)} for key,group in lstg]
# features = []
# for com_attr_name,items in lstg:
#     data = {}
#     data['name'] = com_attr_name
#     data['value'] = []
#     for item in items:
#         temp = {'name': item['com_attr_value_name'], 'value': item['indexation']}
#         data['value'].append(temp)
#     features.append(data)

# 自定义分组
from itertools import groupby
lst=[2,8,11,25,43,6,9,29,51,66]

def gb(num):
    if num <= 10:
        return 'less'
    elif num >=30:
        return 'great'
    else:
        return 'middle'

print([(k,list(g))for k,g in groupby(sorted(lst),key=gb)])
